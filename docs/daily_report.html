<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daily Study & News Companion</title>
  <style>
    :root{
      --bg:#0b0f14; --panel:#131a22; --muted:#8a98a6; --text:#e7eef6;
      --chip:#223144; --chip-b:#2e4055; --up:#2fd77a; --down:#ff5f5f; --shadow:0 6px 24px rgba(0,0,0,.35);
      --accent:#66e0a3;
    }
    .light{
      --bg:#f7f8fb; --panel:#ffffff; --muted:#5e6a76; --text:#0d141c;
      --chip:#f1f5f9; --chip-b:#d9e0e6; --up:#1e8e3e; --down:#b22; --shadow:0 6px 18px rgba(0,0,0,.08);
      --accent:#08c794;
    }
    html,body{height:100%}
    body{margin:0;padding:24px;background:var(--bg);color:var(--text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    header{max-width:1280px;margin:0 auto 18px;display:flex;align-items:center;justify-content:space-between}
    h1{margin:0 0 6px;font-size:28px}
    .sub{color:var(--muted);font-size:14px}
    .btn{border:1px solid var(--chip-b);background:var(--chip);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}

    .layout{max-width:1280px;margin:0 auto;display:grid;grid-template-columns:320px 1fr;gap:16px;align-items:start}
    #sidebar{position:relative}
    .sticky{position:sticky;top:16px}

    .card{background:var(--panel);border:1px solid var(--chip-b);border-radius:14px;box-shadow:var(--shadow)}
    .card-head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--chip-b)}
    .card-body{padding:16px}

    /* Agenda */
    .badge-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
    .badge{background:var(--chip);border:1px solid var(--chip-b);padding:4px 8px;border-radius:8px;font-size:12px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:var(--chip);border:1px solid var(--chip-b);padding:6px 10px;border-radius:10px;font-size:13px}
    .evt{font-size:14px}

    /* ===== Carrusel de Markets (container queries + scroll-snap) ===== */
    .carousel-wrap{position:relative}
    .viewport{
      position:relative;
      overflow:hidden;
      width:100%;
      container-type:inline-size;   /* clave: 100cqw = ancho del carrusel */
    }
    .track{
      --gap:12px;
      display:flex;
      gap:var(--gap);
      overflow-x:auto;
      scroll-snap-type:x mandatory;
      scroll-behavior:smooth;
      padding-bottom:2px;
      will-change:scroll-position;
    }
    .track::-webkit-scrollbar{ height:8px }
    .track::-webkit-scrollbar-thumb{ background:var(--chip-b); border-radius:8px }

    /* EXACTAMENTE 2 por vista (1 en m√≥vil) */
    .mkt-card{
      flex:0 0 calc((100cqw - var(--gap))/2);  /* 2 por vista descontando el gap */
      scroll-snap-align:start;
      background:var(--bg);
      border:1px solid var(--chip-b);
      border-radius:12px;
      overflow:hidden;
    }
    @container (max-width:700px){
      .mkt-card{ flex-basis:100cqw }          /* 1 por vista cuando el contenedor es angosto */
    }

    .mkt-head{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid var(--chip-b)}
    .ticker{font-weight:700;letter-spacing:.5px}
    .mini.pill{border:1px solid var(--chip-b);background:var(--chip);color:var(--text);padding:3px 7px;border-radius:999px;font-size:12px;cursor:pointer}
    .mkt-body{display:grid;grid-template-rows:auto 1fr;gap:8px;padding:10px}
    .metrics-row{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:8px}
    .kv{background:var(--panel);border:1px solid var(--chip-b);border-radius:10px;padding:8px;text-align:center;font-size:13px}
    .kv span{display:block;color:var(--muted);font-size:11px;margin-bottom:2px}
    .kv b{font-weight:700}
    .up{color:var(--up)} .down{color:var(--down)} .flat{color:var(--muted)}
    .chart img{width:100%;display:block;border-radius:8px}
    .noimg{color:var(--muted);text-align:center;padding:24px 0}

    .nav{display:flex;gap:8px}
    .navbtn{border:1px solid var(--chip-b);background:var(--chip);color:var(--text);padding:6px 9px;border-radius:10px;cursor:pointer}
    .navbtn[disabled]{opacity:.45;cursor:not-allowed}

    /* Noticias */
    .filters{display:flex;gap:6px;flex-wrap:wrap;align-items:center}
    .pill{border:1px solid var(--chip-b);background:var(--chip);color:var(--text);padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}
    .pill[data-active="true"]{outline:2px solid var(--accent)}
    .news-group{margin-bottom:14px}
    .topic-chip{display:inline-block;font-size:12px;padding:3px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--chip-b);margin-bottom:8px}
    .news-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
    .news-item a{color:var(--text);text-decoration:none}
    .news-item a:hover{text-decoration:underline}
    .news-item .meta{color:var(--muted);font-size:12px;margin-top:2px}
    .dot{display:inline-block;width:7px;height:7px;border-radius:50%;background:var(--accent);margin-right:8px;transform:translateY(-1px)}
    .empty{color:var(--muted)}

    footer{max-width:1280px;margin:10px auto;color:var(--muted);font-size:12px;text-align:center}
    @media (max-width:980px){.layout{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Daily Study & News Companion</h1>
      <div class="sub">2025-09-25 08:12 ¬∑ TZ: CST</div>
    </div>
    <button class="btn" id="themeBtn">üåì Tema</button>
  </header>

  <div class="layout">
    
    <aside id="sidebar">
      <section class="card sticky">
        <div class="card-head"><h2>üìÖ Agenda de hoy</h2></div>
        <div class="card-body">
          <h3>Eventos</h3>
          <div class="badge-row"><span class="badge">04:30</span><span class="evt">(sin t√≠tulo)</span></div><div class="badge-row"><span class="badge">11:30</span><span class="evt">(sin t√≠tulo)</span></div>
          <h3>Huecos de estudio</h3>
          <div class="chips"><span class="chip">08:00‚Äì11:30</span><span class="chip">17:00‚Äì21:00</span></div>
        </div>
      </section>
    </aside>
    
    <main id="content" class="col">
      <!-- Markets arriba -->
      
    <section id="markets" class="card" data-carousel="markets">
      <div class="card-head">
        <h2>üíπ Markets</h2>
        <div class="nav">
          <button class="navbtn prev" aria-label="Anterior">‚Üê</button>
          <button class="navbtn next" aria-label="Siguiente">‚Üí</button>
        </div>
      </div>
      <div class="card-body">
        <div class="carousel-wrap">
          <div class="viewport">
            <div class="track">
              
        <div class="mkt-card">
          <div class="mkt-head">
            <div class="ticker">AMZN</div>
            <button class="mini pill" onclick="this.closest('.mkt-card').classList.toggle('big')">‚Üï</button>
          </div>
          <div class="mkt-body">
            <div class="metrics-row">
          <div class="kv"><span>Last</span><b>220.21</b></div>
          <div class="kv"><span>d/d</span><b class="down">-5.22%</b></div>
          <div class="kv"><span>M√≠n</span><b>220.21</b></div>
          <div class="kv"><span>M√°x</span><b>238.24</b></div>
          <div class="kv"><span>œÉ</span><b>4.80</b></div>
        </div>
            <div class="chart"><img src="charts/AMZN_close.png" alt="AMZN chart" loading="lazy"/></div>
          </div>
        </div>
        
        <div class="mkt-card">
          <div class="mkt-head">
            <div class="ticker">MSFT</div>
            <button class="mini pill" onclick="this.closest('.mkt-card').classList.toggle('big')">‚Üï</button>
          </div>
          <div class="mkt-body">
            <div class="metrics-row">
          <div class="kv"><span>Last</span><b>510.15</b></div>
          <div class="kv"><span>d/d</span><b class="up">3.06%</b></div>
          <div class="kv"><span>M√≠n</span><b>495.00</b></div>
          <div class="kv"><span>M√°x</span><b>517.93</b></div>
          <div class="kv"><span>œÉ</span><b>6.86</b></div>
        </div>
            <div class="chart"><img src="charts/MSFT_close.png" alt="MSFT chart" loading="lazy"/></div>
          </div>
        </div>
        
        <div class="mkt-card">
          <div class="mkt-head">
            <div class="ticker">NVDA</div>
            <button class="mini pill" onclick="this.closest('.mkt-card').classList.toggle('big')">‚Üï</button>
          </div>
          <div class="mkt-body">
            <div class="metrics-row">
          <div class="kv"><span>Last</span><b>176.97</b></div>
          <div class="kv"><span>d/d</span><b class="up">5.96%</b></div>
          <div class="kv"><span>M√≠n</span><b>167.02</b></div>
          <div class="kv"><span>M√°x</span><b>183.61</b></div>
          <div class="kv"><span>œÉ</span><b>4.37</b></div>
        </div>
            <div class="chart"><img src="charts/NVDA_close.png" alt="NVDA chart" loading="lazy"/></div>
          </div>
        </div>
        
        <div class="mkt-card">
          <div class="mkt-head">
            <div class="ticker">TSLA</div>
            <button class="mini pill" onclick="this.closest('.mkt-card').classList.toggle('big')">‚Üï</button>
          </div>
          <div class="mkt-body">
            <div class="metrics-row">
          <div class="kv"><span>Last</span><b>442.79</b></div>
          <div class="kv"><span>d/d</span><b class="up">26.21%</b></div>
          <div class="kv"><span>M√≠n</span><b>346.40</b></div>
          <div class="kv"><span>M√°x</span><b>442.79</b></div>
          <div class="kv"><span>œÉ</span><b>35.43</b></div>
        </div>
            <div class="chart"><img src="charts/TSLA_close.png" alt="TSLA chart" loading="lazy"/></div>
          </div>
        </div>
        
        <div class="mkt-card">
          <div class="mkt-head">
            <div class="ticker">^GSPC</div>
            <button class="mini pill" onclick="this.closest('.mkt-card').classList.toggle('big')">‚Üï</button>
          </div>
          <div class="mkt-body">
            <div class="metrics-row">
          <div class="kv"><span>Last</span><b>661.10</b></div>
          <div class="kv"><span>d/d</span><b class="up">2.14%</b></div>
          <div class="kv"><span>M√≠n</span><b>647.24</b></div>
          <div class="kv"><span>M√°x</span><b>666.84</b></div>
          <div class="kv"><span>œÉ</span><b>5.81</b></div>
        </div>
            <div class="chart"><img src="charts/^GSPC_close.png" alt="^GSPC chart" loading="lazy"/></div>
          </div>
        </div>
        
            </div>
          </div>
        </div>
      </div>
    </section>
    
      <!-- Noticias debajo -->
      
    <section id="news" class="card">
      <div class="card-head">
        <h2>üì∞ Noticias</h2>
        <div class="filters">
          <button class="pill" data-topic="all" data-active="true">All</button>
          <button class="pill" data-topic="AI">AI</button><button class="pill" data-topic="Fintech">Fintech</button><button class="pill" data-topic="General">General</button><button class="pill" data-topic="Machine Learning">Machine Learning</button>
        </div>
      </div>
      <div class="card-body">
          <div class="news-group" data-group="AI">
            <div class="topic-chip">AI</div>
            <ul class="news-list">
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/coreweave-expands-deals-with-openai-to-as-much-as-22-4-billion" target="_blank" rel="noreferrer">CoreWeave Expands OpenAI Deals to as Much as $22.4 Billion</a>
                <div class="meta">2025-09-25 13:18 ¬∑ <span class="src">Brody Ford</span></div>
              </li>
            
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/musk-s-grok-ai-cleared-for-use-across-us-government-agencies" target="_blank" rel="noreferrer">Musk‚Äôs Grok AI Cleared for Use Across US Government Agencies</a>
                <div class="meta">2025-09-25 13:00 ¬∑ <span class="src">Oma Seddiq</span></div>
              </li>
            
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/alphabet-is-most-valuable-company-on-ai-strength-moffett-says" target="_blank" rel="noreferrer">Alphabet Is ‚ÄòMost Valuable Company‚Äô on AI Strength, Moffett Says</a>
                <div class="meta">2025-09-25 12:22 ¬∑ <span class="src">Ryan Vlastelica</span></div>
              </li>
            
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/google-eyes-another-crypto-mining-stake-in-ai-data-center-rush" target="_blank" rel="noreferrer">Google Eyes Another Crypto Mining Stake In AI Data Center Rush</a>
                <div class="meta">2025-09-25 11:30 ¬∑ <span class="src">Amy Thomson, Mark Bergen</span></div>
              </li>
            
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/newsletters/2025-09-25/instagram-s-mosseri-sees-challenge-in-coming-wave-of-ai-images" target="_blank" rel="noreferrer">Instagram‚Äôs Mosseri Sees Challenge in Coming Wave¬†of AI Images</a>
                <div class="meta">2025-09-25 11:02 ¬∑ <span class="src">Kurt Wagner</span></div>
              </li>
            
              <li class="news-item" data-topic="AI">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/ai-boom-blue-owl-and-qatar-s-qia-set-up-3-billion-data-center-venture" target="_blank" rel="noreferrer">Blue Owl and Qatar‚Äôs QIA Set Up $3 Billion Data Center Venture</a>
                <div class="meta">2025-09-25 10:31 ¬∑ <span class="src">Dinesh Nair</span></div>
              </li>
            </ul>
          </div>
        
          <div class="news-group" data-group="Fintech">
            <div class="topic-chip">Fintech</div>
            <ul class="news-list">
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/ambipar-gets-emergency-court-protection-as-creditors-pounce" target="_blank" rel="noreferrer">Ambipar Gets Emergency Court Protection as Creditors Pounce</a>
                <div class="meta">2025-09-25 13:53 ¬∑ <span class="src">Giovanna Bellotti Azevedo, Vinicius Andrade</span></div>
              </li>
            
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/uganda-development-bank-weighs-500-million-foreign-debt-sales" target="_blank" rel="noreferrer">Uganda Development Bank Weighs $500 Million Foreign-Debt Sales</a>
                <div class="meta">2025-09-25 13:48 ¬∑ <span class="src">Fred Ojambo</span></div>
              </li>
            
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/french-markets-watchdog-sees-country-dodging-financial-crisis" target="_blank" rel="noreferrer">French Markets Watchdog Sees Country Dodging Financial Crisis</a>
                <div class="meta">2025-09-25 13:35 ¬∑ <span class="src">Laura Noonan, Claudia Cohen</span></div>
              </li>
            
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/first-brands-linked-financing-units-file-for-bankruptcy" target="_blank" rel="noreferrer">First Brands-Linked Financing Units File for Bankruptcy</a>
                <div class="meta">2025-09-25 13:29 ¬∑ <span class="src">Luca Casiraghi, Reshmi Basu</span></div>
              </li>
            
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/fed-s-goolsbee-says-rates-can-fall-fair-bit-with-stable-data" target="_blank" rel="noreferrer">Fed‚Äôs Goolsbee Says Rates Can Fall ‚ÄòFair Bit‚Äô With Stable Data</a>
                <div class="meta">2025-09-25 13:26 ¬∑ <span class="src">Jonnelle Marte</span></div>
              </li>
            
              <li class="news-item" data-topic="Fintech">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/fed-s-miran-says-us-economy-s-vulnerability-calls-for-rapid-cuts" target="_blank" rel="noreferrer">Fed‚Äôs Miran Says Economic Vulnerability Calls for Rapid Cuts</a>
                <div class="meta">2025-09-25 12:07 ¬∑ <span class="src">Amara Omeokwe</span></div>
              </li>
            </ul>
          </div>
        
          <div class="news-group" data-group="General">
            <div class="topic-chip">General</div>
            <ul class="news-list">
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/us-stocks-decline-as-investors-await-catalysts-inflation-data" target="_blank" rel="noreferrer">US Stocks Decline as Investors Await Catalysts, Inflation Data</a>
                <div class="meta">2025-09-25 14:00 ¬∑ <span class="src">Joel Leon</span></div>
              </li>
            
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/tufts-umass-hospitals-win-state-help-ahead-of-trump-health-cuts" target="_blank" rel="noreferrer">Tufts, UMass Hospitals Win State Help Ahead of Trump Health Cuts</a>
                <div class="meta">2025-09-25 14:00 ¬∑ <span class="src">Sri Taylor</span></div>
              </li>
            
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/treasury-yields-climb-to-three-week-high-before-fed-speakers" target="_blank" rel="noreferrer">Treasury Yields Extend Rise as Solid Data Clouds Rate-Cut Path</a>
                <div class="meta">2025-09-25 11:23 ¬∑ <span class="src">Michael MacKenzie, Naomi Tajitsu</span></div>
              </li>
            
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/starbucks-to-close-stores-cut-jobs-in-1-billion-restructuring" target="_blank" rel="noreferrer">Starbucks $1 Billion Restructuring to Close Stores, Cut Jobs</a>
                <div class="meta">2025-09-25 11:11 ¬∑ <span class="src">Redd Brown</span></div>
              </li>
            
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/videos/2025-09-25/ipo-market-on-path-to-normalization-ubs-mccartney-says-video" target="_blank" rel="noreferrer">IPO Market on Path to Normalization, UBS McCartney Says</a>
                <div class="meta">2025-09-25 11:03 ¬∑ <span class="src">www.bloomberg.com</span></div>
              </li>
            
              <li class="news-item" data-topic="General">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/emerging-market-assets-decline-as-political-risks-proliferate" target="_blank" rel="noreferrer">Emerging Assets Extend Decline as US Data Clouds Fed Cut Outlook</a>
                <div class="meta">2025-09-25 09:30 ¬∑ <span class="src">Zijia Song, Andras Gergely</span></div>
              </li>
            </ul>
          </div>
        
          <div class="news-group" data-group="Machine Learning">
            <div class="topic-chip">Machine Learning</div>
            <ul class="news-list">
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/container-rates-sink-to-lowest-since-start-of-red-sea-diversions" target="_blank" rel="noreferrer">Container Rates Sink to Lowest Since Start of Red Sea Diversions</a>
                <div class="meta">2025-09-25 12:36 ¬∑ <span class="src">Brendan Murray</span></div>
              </li>
            
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/videos/2025-09-25/the-opening-trade-9-25-video" target="_blank" rel="noreferrer">AI's Crazy Trades, Zelenskiy's Moldova Warnings | The Opening Trade 9/25</a>
                <div class="meta">2025-09-25 12:06 ¬∑ <span class="src">www.bloomberg.com</span></div>
              </li>
            
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/arabica-coffee-rises-as-exchange-stockpiles-sink-to-18-month-low" target="_blank" rel="noreferrer">Arabica Coffee Rises as Exchange Stockpiles Sink to 18-Month Low</a>
                <div class="meta">2025-09-25 12:01 ¬∑ <span class="src">Mumbi Gitau, Anuradha Raghu</span></div>
              </li>
            
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-25/trump-steel-tariffs-spur-countermoves-against-china-in-mexico-brazil-and-canada" target="_blank" rel="noreferrer">Trump‚Äôs Steel Tariffs Are Triggering Counterstrikes From US Neighbors Against China</a>
                <div class="meta">2025-09-25 12:00 ¬∑ <span class="src">Amy Stillman, Mathieu Dion, Mariana Durao</span></div>
              </li>
            
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/videos/2025-09-25/a-sputnik-moment-hsbc-quantum-computing-breakthrough" target="_blank" rel="noreferrer">A 'Sputnik Moment' | HSBC Quantum Computing¬†Breakthrough</a>
                <div class="meta">2025-09-25 07:40 ¬∑ <span class="src">www.bloomberg.com</span></div>
              </li>
            
              <li class="news-item" data-topic="Machine Learning">
                <span class="dot"></span>
                <a href="https://www.bloomberg.com/news/articles/2025-09-24/stock-market-today-dow-s-p-live-updates" target="_blank" rel="noreferrer">Stocks Hit by Tech Rout as Solid GDP Lifts Yields: Markets Wrap</a>
                <div class="meta">2025-09-24 22:30 ¬∑ <span class="src">Rita Nazareth</span></div>
              </li>
            </ul>
          </div>
        </div>
    </section>
    
    </main>
  </div>

  <footer>Generado localmente ¬∑ 2025-09-25 08:12</footer>

  <script>
    'use strict';

    // Tema persistente
    const btn = document.getElementById('themeBtn');
    const saved = localStorage.getItem('themeMode') || 'dark';
    if (saved === 'light') document.documentElement.classList.add('light');
    btn.onclick = () => {
      document.documentElement.classList.toggle('light');
      localStorage.setItem('themeMode',
        document.documentElement.classList.contains('light') ? 'light' : 'dark'
      );
    };

    // Filtro de noticias
    const pills = document.querySelectorAll('.filters .pill');
    const groups = document.querySelectorAll('.news-group');
    pills.forEach(p => {
      p.addEventListener('click', () => {
        pills.forEach(x => x.removeAttribute('data-active'));
        p.setAttribute('data-active','true');
        const topic = p.dataset.topic;
        groups.forEach(g => g.style.display = (topic==='all' || g.dataset.group===topic) ? 'block' : 'none');
      });
    });

    // Carrusel con scroll-snap: 2 por vista (1 en m√≥vil). Flechas mueven 1 card.
    (function(){
      const root = document.querySelector('[data-carousel="markets"]');
      if (!root) return;

      const viewport = root.querySelector('.viewport');
      const track = root.querySelector('.track');
      const cards = Array.from(track.children);
      const btnPrev = root.querySelector('.navbtn.prev');
      const btnNext = root.querySelector('.navbtn.next');

      const GAP = 12; // Debe coincidir con --gap de .track

      function cardWidth(){
        // Mide una card real (ya definida por container queries)
        const c = cards[0];
        const w = c ? c.getBoundingClientRect().width : viewport.getBoundingClientRect().width;
        return w + GAP;
      }

      function updateButtons(){
        const maxScroll = track.scrollWidth - track.clientWidth - 1; // tolerancia
        btnPrev.disabled = (track.scrollLeft <= 0);
        btnNext.disabled = (track.scrollLeft >= maxScroll);
      }

      function go(delta){
        track.scrollBy({ left: delta * cardWidth(), behavior: 'smooth' });
        setTimeout(updateButtons, 220);
      }

      btnPrev?.addEventListener('click', () => go(-1));
      btnNext?.addEventListener('click', () => go(+1));
      track.addEventListener('scroll', updateButtons, { passive:true });

      // Init
      function init(){ updateButtons(); }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else { init(); }
      window.addEventListener('load', init, { once:true });
      window.addEventListener('resize', () => setTimeout(init, 60), { passive:true });
    })();
  </script>
</body>
</html>
